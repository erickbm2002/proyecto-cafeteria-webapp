<!DOCTYPE html> 
<html
  lang="es"
  xmlns:th="http://www.thymeleaf.org"
  th:replace="~{layout/public :: layout_public(~{::article}, 'Iniciar Sesión', null)}"
>
  <body>
    <article>
      <section class="container py-5">
        <div class="row justify-content-center">
          <div class="col-md-6 col-lg-5">
            <div class="card shadow-lg border-0">
              <div class="card-body p-5">
                <!-- Logo/Título -->
                <div class="text-center mb-4">
                  <i class="fas fa-coffee" style="font-size: 3rem; color: var(--coffee-brown);"></i>
                  <h2 class="mt-3" style="color: var(--coffee-brown); font-weight: bold;">
                    Iniciar Sesión
                  </h2>
                  <p class="text-muted">Bienvenido de vuelta</p>
                </div>

                <!-- Mensajes -->
                <div th:if="${error}" class="alert alert-danger alert-dismissible fade show" role="alert">
                  <i class="bi bi-exclamation-triangle-fill me-2"></i>
                  <span th:text="${error}"></span>
                  <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>

                <div th:if="${mensaje}" class="alert alert-success alert-dismissible fade show" role="alert">
                  <i class="bi bi-check-circle-fill me-2"></i>
                  <span th:text="${mensaje}"></span>
                  <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>

                <!-- Formulario de Login -->
                <form th:action="@{/login}" method="post">
                  <!-- Correo -->
                  <div class="mb-3">
                    <label for="username" class="form-label">
                      <i class="bi bi-envelope me-2"></i>Correo Electrónico
                    </label>
                    <input
                      type="email"
                      class="form-control"
                      id="username"
                      name="username"
                      placeholder="tu@email.com"
                      required
                      autofocus
                    />
                  </div>

                  <!-- Contraseña -->
                  <div class="mb-3">
                    <label for="password" class="form-label">
                      <i class="bi bi-lock me-2"></i>Contraseña
                    </label>
                    <input
                      type="password"
                      class="form-control"
                      id="password"
                      name="password"
                      placeholder="••••••••"
                      required
                    />
                  </div>

                  <!-- Recordarme -->
                  <div class="mb-3 form-check">
                    <input
                      type="checkbox"
                      class="form-check-input"
                      id="remember-me"
                      name="remember-me"
                    />
                    <label class="form-check-label" for="remember-me">
                      Recordarme
                    </label>
                  </div>

                  <!-- Botón de Login -->
                  <button type="submit" class="btn btn-coffee w-100 mb-3">
                    <i class="bi bi-box-arrow-in-right me-2"></i>Iniciar Sesión
                  </button>

                  <!-- Link a Registro -->
                  <div class="text-center">
                    <p class="mb-0">
                      ¿No tienes cuenta? 
                      <a th:href="@{/registro}" style="color: var(--coffee-brown); font-weight: bold;">
                        Regístrate aquí
                      </a>
                    </p>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </section>
    </article>
  </body>
</html>